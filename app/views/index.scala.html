@(todasMetas: List[List[Meta]], signupForm: Form[Meta])

@import helper._

@import helper.twitterBootstrap._

@main("Welcome to Play") {


	<nav class="navbar navbar-static-top " style="background-color: rgb(66, 75, 102);" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#"><span class="light-color navbar-title">Sistema de informa&ccedil;&atilde;o 1 </span></a>
            </div>
        </div>
    </nav>
    
    <script>
    function fixDiv() {
    	  var $cache = $('.fixed'); 
    	  if ($(window).scrollTop() > 65.8) 
    	    $cache.css({'position': 'fixed', 'top': '0', '-webkit-box-shadow': '0px 3px 4px 0px rgba(50, 50, 50, 0.58)',
    	    '-moz-box-shadow':    '0px 3px 4px 0px rgba(50, 50, 50, 0.58)',
    	   ' box-shadow':         '0px 3px 4px 0px rgba(50, 50, 50, 0.58)', 'padding-top':'5px'}); 
    	  else
    	    $cache.css({'position': 'relative', 'top': 'auto'});
    	}
    	$(window).scroll(fixDiv);
    	fixDiv();
    </script>

    <div id="container">
	    <div id="autoHeight" class="fixed" style="width:100%;z-index:1;height:50px" >
	    	<a class="btn btn-default" style="font-size:18px;margin-left:15px" data-toggle="modal" data-target="#modal-nova-meta">Nova meta</a>
	    </div>
	    <div id="remainingHeight">
	    
   		@for(i <- 0 until todasMetas.length){
			<h2 style="color:white;font-family:'Short Stack', cursive">Para @(i+1) semana</h2>
   			<hr class="col-md-4" style="border-top:3px dashed white;margin-top:-5px"/><br><br>
   			<div class="metas">
	   			<ul class="sticky_notes  connectedSortable" id="sortable1"/>
	   			@if(todasMetas.get(i).length == 0){
	   				<h3 style="color:white;font-family:'Short Stack', cursive">Nenhuma meta para está semana</h3>
	   			}else{
		   			@for(meta <- todasMetas.get(i)){
			 			<li class="@if(meta.isAlcancada()) {green} else {yellow}" data-id="@meta.getId()">
			   				<span style="width:100%;background-color:rgb(255, 115, 71);color:white;float:right">Prioridade: @meta.getPrioridade.name()
			   					<span style="float:right;margin-right:5px;cursor:pointer">
			   						<a class="deletar popconfirm" style="color:white">x</a>
			   					</span>
			   				</span><span class="m-top">@meta.getDescricao()</span>
			   				<span style="float:right;width:100%;margin-top:5px">
			   				<button type="button" style="padding: 3px;margin-top:55px" data-toggle="button" data-id="@meta.getId()" data-alcancada="@if(meta.isAlcancada()) {1" class="btn btn-success alcancou active">Alcançada} else {0" class="btn btn-warning alcancou">Não alcançada}</button></span>
			   			</li> 
		   			}
	   			}
	   			</ul>
   			</div>
   		}
	
		</div>   
	</div>
	
	<!-- Modal -->
	<div class="modal fade" id="modal-nova-meta" tabindex="-1" role="dialog" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="myModalLabel">Nova meta</h4>
	      </div>
	      <div class="modal-body">
	        @helper.form(action = routes.MetaController.nova, 'id -> "form-nova-meta") {
			    @inputText(
		            signupForm("descricao"), 
		            '_label -> "Descrição", 
		            '_help -> "Obrigatório",
		            'class -> "form-control",
		            'required -> "required",
		            'pattern -> "^(?:\\b\\S{1,20}\\b\\s*)+$"
		        )
		        <label for="descricao">Piroridade da meta</label>
		        <select name="prioridade" class="form-control">
				    @for(cType <- models.Prioridade.values()){
				        <option value="@cType.name()">@cType.getDescricao()</option>
				    }
				</select>
				<br>
				<label for="descricao">Prazo para alcançar a meta</label>
				<select name="duracao" class="form-control">
				    @for(cType <- models.Duracao.values()){
				        <option value="@cType.name()">@cType.getDescricao()</option>
				    }
				</select>
		    
		    }
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Fechar	</button>
	        <button type="submit"  form="form-nova-meta" class="btn btn-primary">Criar</button>
	      </div>
	    </div>
	  </div>
	</div>


}
